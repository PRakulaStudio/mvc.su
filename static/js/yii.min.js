window.yii=function(t){function e(){t.ajaxPrefilter(function(t,e,i){!t.crossDomain&&s.getCsrfParam()&&i.setRequestHeader("X-CSRF-Token",s.getCsrfToken())}),s.refreshCsrfToken()}function i(){t(document).ajaxComplete(function(t,e){var i=e&&e.getResponseHeader("X-Redirect");i&&window.location.assign(i)})}function n(){var e={};t("script[src]").each(function(){var t=c(this.src);e[t]=!0}),t.ajaxPrefilter("script",function(t,i,n){if("jsonp"!=t.dataType){var r=c(t.url),o=!0===e[r]&&!a(r),s=void 0!==e[r]&&!0===e[r].xhrDone;o||s?n.abort():(void 0!==e[r]&&!0!==e[r]||(e[r]={xhrList:[],xhrDone:!1}),n.done(function(t,i,n){if(!0!==e[n.yiiUrl].xhrDone){e[n.yiiUrl].xhrDone=!0;for(var r=0,a=e[n.yiiUrl].xhrList.length;r<a;r++){var o=e[n.yiiUrl].xhrList[r];o&&o.readyState!==XMLHttpRequest.DONE&&o.abort()}e[n.yiiUrl]=!0}}).fail(function(t,i){if("abort"!==i){delete e[t.yiiUrl].xhrList[t.yiiIndex];for(var n=!0,r=0,a=e[t.yiiUrl].xhrList.length;r<a;r++)e[t.yiiUrl].xhrList[r]&&(n=!1);n&&delete e[t.yiiUrl]}}),n.yiiIndex=e[r].xhrList.length,n.yiiUrl=r,e[r].xhrList[n.yiiIndex]=n)}}),t(document).ajaxComplete(function(){var e=[];t("link[rel=stylesheet]").each(function(){var i=c(this.href);a(i)||(-1===t.inArray(i,e)?e.push(i):t(this).remove())})})}function r(){var e=function(e){var i=t(this),n=i.data("method"),r=i.data("confirm"),a=i.data("form");return void 0===n&&void 0===r&&void 0===a||(void 0!==r?t.proxy(s.confirm,this)(r,function(){s.handleAction(i,e)}):s.handleAction(i,e),e.stopImmediatePropagation(),!1)};t(document).on("click.yii",s.clickableSelector,e).on("change.yii",s.changeableSelector,e)}function a(t){for(var e=0;e<s.reloadableScripts.length;e++){var i=c(s.reloadableScripts[e]);if(!0===new RegExp("^"+o(i).split("\\*").join(".+")+"$").test(t))return!0}return!1}function o(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function c(t){return"/"===t.charAt(0)?s.getBaseCurrentUrl()+t:t}var s={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,i){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",i)},refreshCsrfToken:function(){var e=s.getCsrfToken();e&&t('form input[name="'+s.getCsrfParam()+'"]').val(e)},confirm:function(t,e,i){window.confirm(t)?!e||e():!i||i()},handleAction:function(e,i){var n,r=e.attr("data-form")?t("#"+e.attr("data-form")):e.closest("form"),a=!e.data("method")&&r?r.attr("method"):e.data("method"),o=e.attr("href"),c=o&&"#"!==o,u=e.data("params"),d=u&&t.isPlainObject(u),l=e.data("pjax"),p=void 0!==l&&0!==l&&t.support.pjax,f={};if(p&&((n=e.data("pjax-container")||e.closest("[data-pjax-container]")).length||(n=t("body")),f={container:n,push:!!e.data("pjax-push-state"),replace:!!e.data("pjax-replace-state"),scrollTo:e.data("pjax-scrollto"),pushRedirect:e.data("pjax-push-redirect"),replaceRedirect:e.data("pjax-replace-redirect"),skipOuterContainers:e.data("pjax-skip-outer-containers"),timeout:e.data("pjax-timeout"),originalEvent:i,originalTarget:e}),void 0!==a){var h,m,g=!r.length;if(g){c||(o=s.getCurrentUrl()),r=t("<form/>",{method:a,action:o});var v=e.attr("target");if(v&&r.attr("target",v),/(get|post)/i.test(a)||(r.append(t("<input/>",{name:"_method",value:a,type:"hidden"})),a="post",r.attr("method",a)),/post/i.test(a)){var y=s.getCsrfParam();y&&r.append(t("<input/>",{name:y,value:s.getCsrfToken(),type:"hidden"}))}r.hide().appendTo("body")}else h=r.attr("method"),r.attr("method",a),c&&(m=r.attr("action"),r.attr("action",o));var x=r.data("yiiActiveForm");x&&(x.submitObject=e),d&&t.each(u,function(e,i){r.append(t("<input/>").attr({name:e,value:i,type:"hidden"}))}),p&&r.on("submit",function(e){t.pjax.submit(e,f)}),r.trigger("submit"),t.when(r.data("yiiSubmitFinalizePromise")).then(function(){g?r.remove():(void 0!==m&&r.attr("action",m),r.attr("method",h),d&&t.each(u,function(e){t('input[name="'+e+'"]',r).remove()}))})}else c?p?t.pjax.click(i,f):window.location.assign(o):e.is(":submit")&&r.length&&(p&&r.on("submit",function(e){t.pjax.submit(e,f)}),r.trigger("submit"))},getQueryParams:function(e){var i=e.indexOf("?");if(i<0)return{};for(var n=t.grep(e.substring(i+1).split("#")[0].split("&"),function(t){return""!==t}),r={},a=0,o=n.length;a<o;a++){var c=n[a].split("="),s=decodeURIComponent(c[0].replace(/\+/g,"%20")),u=decodeURIComponent(c[1].replace(/\+/g,"%20"));s.length&&(void 0===r[s]?r[s]=u||"":(t.isArray(r[s])||(r[s]=[r[s]]),r[s].push(u||"")))}return r},initModule:function(e){(void 0===e.isActive||e.isActive)&&(t.isFunction(e.init)&&e.init(),t.each(e,function(){t.isPlainObject(this)&&s.initModule(this)}))},init:function(){e(),i(),n(),r()},getBaseCurrentUrl:function(){return window.location.protocol+"//"+window.location.host},getCurrentUrl:function(){return window.location.href}};return s}(window.jQuery),window.jQuery(function(){window.yii.initModule(window.yii)});